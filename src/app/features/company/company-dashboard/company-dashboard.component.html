<!-- company-dashboard.component.html (Bootstrap 5) -->
<div class="container-fluid py-4">

  <!-- ─── ENTÊTE ENTREPRISE ──────────────────────────────────────────── -->
  <div class="card mb-4" *ngIf="company">
    <div class="card-body d-flex justify-content-between align-items-center flex-wrap">

      <!-- Logo + nom + adresse -->
      <div class="d-flex align-items-center mb-3 mb-lg-0">
        <img *ngIf="company.logoUrl"
             [src]="company.logoUrl"
             [alt]="company.name ?? 'Logo entreprise'"
             class="rounded me-3"
             style="width:80px;height:80px;object-fit:contain;" />

        <div>
          <h1 class="h4 mb-0">{{ company.name }}</h1>
          <small *ngIf="company.address" class="text-muted">
            {{ company.address }}
          </small>
        </div>
      </div>

      <!-- Badge abonnement -->
      <span class="badge"
            [ngClass]="{
              'bg-success'           : company.subscriptionStatus === 'ACTIVE',
              'bg-warning text-dark' : company.subscriptionStatus === 'TRIAL',
              'bg-danger'            : company.subscriptionStatus === 'INACTIVE'
            }">
        {{ getSubscriptionStatusLabel(company.subscriptionStatus) }}
      </span>
    </div>
  </div>

  <!-- ─── STATISTIQUES ───────────────────────────────────────────────── -->
  <div class="row g-3" *ngIf="stats">

    <div class="col-6 col-lg-3" >
      <div class="card h-100 text-center">
        <div class="card-body d-flex flex-column justify-content-center">
          <i class="bi bi-people-fill display-6 mb-2 text-primary"></i>
          <h3 class="mb-0">{{ stats.employeesCount }}/{{ company?.maxEmployees }}</h3>
          <small class="text-muted">Employés</small>
        </div>
      </div>
    </div>

    <div class="col-6 col-lg-3">
      <div class="card h-100 text-center">
        <div class="card-body d-flex flex-column justify-content-center">
          <i class="bi bi-building display-6 mb-2 text-info"></i>
          <h3 class="mb-0">{{ stats.sitesCount }}/{{ company?.maxSites }}</h3>
          <small class="text-muted">Sites</small>
        </div>
      </div>
    </div>

    <div class="col-6 col-lg-3">
      <div class="card h-100 text-center">
        <div class="card-body d-flex flex-column justify-content-center">
          <i class="bi bi-calendar-event display-6 mb-2 text-warning"></i>
          <h3 class="mb-0">{{ stats.schedulesCount }}</h3>
          <small class="text-muted">Plannings actifs</small>
        </div>
      </div>
    </div>

    <div class="col-6 col-lg-3">
      <div class="card h-100 text-center">
        <div class="card-body d-flex flex-column justify-content-center">
          <i class="bi bi-check2-circle display-6 mb-2 text-success"></i>
          <h3 class="mb-0">{{ stats.completionRate }}%</h3>
          <small class="text-muted">Taux de complétion</small>
        </div>
      </div>
    </div>

  </div>

  <!-- ─── ACTIONS RAPIDES ────────────────────────────────────────────── -->
  <div class="d-flex flex-wrap gap-2 mt-4">
    <a class="btn btn-primary d-flex align-items-center gap-1"
       routerLink="/company/profile">
      <i class="bi bi-gear-fill"></i> Gérer le profil
    </a>

    <a class="btn btn-primary d-flex align-items-center gap-1"
       routerLink="/subscription">
      <i class="bi bi-credit-card-2-front"></i> Gérer l’abonnement
    </a>
  </div>

</div>
