<aside class="d-block">
  <!-- Carte Notifications -->
  <div class="card mb-4">
    <div class="card-body">
      <h3 class="h6 card-title mb-3">Notifications</h3>

      <!-- Loader -->
      <div *ngIf="loading" class="text-center my-3">
        <div class="spinner-border spinner-border-sm" role="status" aria-label="Chargement"></div>
      </div>

      <!-- Erreur -->
      <div *ngIf="!loading && error" class="text-danger small">
        {{ error }}
      </div>

      <!-- Aucune notif -->
      <div *ngIf="!loading && !error && notifications.length === 0"
           class="text-muted small">
        Aucune nouvelle notification
      </div>

      <!-- Liste -->
      <ul *ngIf="!loading && notifications.length"
          class="list-group list-group-flush">
        <li *ngFor="let n of notifications"
            class="list-group-item d-flex align-items-start gap-3">
          <div class="pt-1 flex-shrink-0">
            <!-- Icône générique de notif (sinon mappez n.icon -> nom lucide) -->
            <lucide-icon name="bell"></lucide-icon>
          </div>
          <div class="flex-grow-1">
            <p class="mb-1">{{ n.message }}</p>
            <span class="small text-muted">
              {{ n.createdAt | date:'short' }}
            </span>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <!-- Carte Actions rapides -->
  <div class="card">
    <div class="card-body">
      <h3 class="h6 card-title mb-3">Actions Rapides</h3>
      <!-- Grille de boutons pleine largeur -->
      <div class="row g-2">
        <div class="col-12">
          <a routerLink="/schedules/create"
             class="btn btn-outline-primary w-100 d-flex align-items-center justify-content-center gap-2">
            <lucide-icon name="calendar"></lucide-icon>
            <span>Créer Planning</span>

          </a>
        </div>
        <!-- <div class="col-12" *ngIf="auth.hasAnyRole('SUPER_ADMIN','ADMIN')">
          <a
            class="btn btn-outline-secondary d-inline-flex align-items-center justify-content-center gap-2"
            routerLink="/admin/admins/new">
            <i class="bi bi-person-plus me-1" aria-hidden="true"></i>
            <span>Créer un admin‑site</span>
          </a>
        </div> -->

        <div class="col-12">
          <a routerLink="/employees/create"
             class="btn btn-outline-primary w-100 d-flex align-items-center justify-content-center gap-2">
            <lucide-icon name="user-plus"></lucide-icon>
            <span>Ajouter Employé</span>
          </a>
        </div>

        <div class="col-12">
          <a routerLink="/sites/create"
             class="btn btn-outline-primary w-100 d-flex align-items-center justify-content-center gap-2">
            <lucide-icon name="building-2"></lucide-icon>
            <span>Ajouter Site</span>
          </a>
        </div>

        <div class="col-12">
          <a routerLink="/reports"
             class="btn btn-outline-primary w-100 d-flex align-items-center justify-content-center gap-2">
            <lucide-icon name="bar-chart-2"></lucide-icon>
            <span>Voir Rapports</span>
          </a>
        </div>

        <div class="col-12" *ngIf="auth.hasAnyRole('SUPER_ADMIN','ADMIN')">
          <a routerLink="/admin/admins"
             class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center gap-2">
            <lucide-icon name="users"></lucide-icon>
            <span>Admins de site</span>
          </a>
        </div>

        <div class="col-12" *ngIf="auth.hasAnyRole('SUPER_ADMIN','ADMIN')">
          <a [routerLink]="['/admin','admins','create']"
             class="btn btn-outline-secondary w-100 d-flex align-items-center justify-content-center gap-2">
            <lucide-icon name="user-plus"></lucide-icon>
            <span>Créer Admin‑site</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</aside>
